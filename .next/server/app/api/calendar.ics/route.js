"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/calendar.ics/route";
exports.ids = ["app/api/calendar.ics/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalendar.ics%2Froute&page=%2Fapi%2Fcalendar.ics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalendar.ics%2Froute.ts&appDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalendar.ics%2Froute&page=%2Fapi%2Fcalendar.ics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalendar.ics%2Froute.ts&appDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_mahadev_Documents_python_calendar_subscription_app_api_calendar_ics_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/calendar.ics/route.ts */ \"(rsc)/./app/api/calendar.ics/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/calendar.ics/route\",\n        pathname: \"/api/calendar.ics\",\n        filename: \"route\",\n        bundlePath: \"app/api/calendar.ics/route\"\n    },\n    resolvedPagePath: \"/Users/mahadev/Documents/python/calendar_subscription/app/api/calendar.ics/route.ts\",\n    nextConfigOutput,\n    userland: _Users_mahadev_Documents_python_calendar_subscription_app_api_calendar_ics_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/calendar.ics/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjYWxlbmRhci5pY3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmNhbGVuZGFyLmljcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmNhbGVuZGFyLmljcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1haGFkZXYlMkZEb2N1bWVudHMlMkZweXRob24lMkZjYWxlbmRhcl9zdWJzY3JpcHRpb24lMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbWFoYWRldiUyRkRvY3VtZW50cyUyRnB5dGhvbiUyRmNhbGVuZGFyX3N1YnNjcmlwdGlvbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDaUQ7QUFDaEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FsZW5kYXItcHJpb3JpdHktc2VydmljZS8/MGYzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbWFoYWRldi9Eb2N1bWVudHMvcHl0aG9uL2NhbGVuZGFyX3N1YnNjcmlwdGlvbi9hcHAvYXBpL2NhbGVuZGFyLmljcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2FsZW5kYXIuaWNzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2FsZW5kYXIuaWNzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jYWxlbmRhci5pY3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbWFoYWRldi9Eb2N1bWVudHMvcHl0aG9uL2NhbGVuZGFyX3N1YnNjcmlwdGlvbi9hcHAvYXBpL2NhbGVuZGFyLmljcy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jYWxlbmRhci5pY3Mvcm91dGVcIjtcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalendar.ics%2Froute&page=%2Fapi%2Fcalendar.ics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalendar.ics%2Froute.ts&appDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/calendar.ics/route.ts":
/*!***************************************!*\
  !*** ./app/api/calendar.ics/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var ical_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ical-generator */ \"(rsc)/./node_modules/ical-generator/dist/index.js\");\n\n\nconst ICS_URL = \"https://iitjbsc.futurense.com/calendar/export_execute.php?userid=2020&authtoken=2aa807c9922b9597879495f195f01552cf16a011&preset_what=all&preset_time=recentupcoming\";\nconst defaultConfig = {\n    zoomPriority: 1,\n    zoomReminder: true,\n    zoomReminderMinutes: 15,\n    otherPriority: 5,\n    otherReminder: false,\n    otherReminderMinutes: 10\n};\nasync function processCalendar(config) {\n    try {\n        console.log(\"\\uD83D\\uDCE5 Fetching calendar from URL...\");\n        const response = await fetch(ICS_URL, {\n            headers: {\n                \"User-Agent\": \"Calendar-Priority-Service/1.0\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const icsData = await response.text();\n        // Parse the original calendar using a simple parser\n        const events = parseICSData(icsData);\n        // Create new calendar\n        const calendar = (0,ical_generator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: \"High Priority Calendar\",\n            description: \"Processed calendar with smart prioritization\",\n            timezone: \"Asia/Kolkata\",\n            prodId: {\n                company: \"futurense\",\n                product: \"calendar-priority-service\",\n                language: \"EN\"\n            }\n        });\n        let zoomEventsCount = 0;\n        let otherEventsCount = 0;\n        events.forEach((event)=>{\n            const isZoomEvent = event.description && event.description.includes(\"https://futurense.zoom.us/\");\n            const calendarEvent = calendar.createEvent({\n                start: event.start,\n                end: event.end,\n                summary: event.summary,\n                description: event.description,\n                location: event.location,\n                uid: event.uid || `${Date.now()}-${Math.random()}`\n            });\n            if (isZoomEvent) {\n                calendarEvent.priority(config.zoomPriority);\n                if (config.zoomReminder) {\n                    calendarEvent.createAlarm({\n                        type: \"display\",\n                        trigger: config.zoomReminderMinutes * 60,\n                        description: \"Reminder: Zoom meeting starting soon\"\n                    });\n                }\n                zoomEventsCount++;\n            } else {\n                calendarEvent.priority(config.otherPriority);\n                if (config.otherReminder) {\n                    calendarEvent.createAlarm({\n                        type: \"display\",\n                        trigger: config.otherReminderMinutes * 60,\n                        description: \"Reminder: Event starting soon\"\n                    });\n                }\n                otherEventsCount++;\n            }\n        });\n        console.log(`ðŸ“Š Processed ${zoomEventsCount} Zoom events and ${otherEventsCount} other events`);\n        return calendar.toString();\n    } catch (error) {\n        console.error(\"Error processing calendar:\", error);\n        throw error;\n    }\n}\nfunction parseICSData(icsData) {\n    const events = [];\n    const lines = icsData.split(\"\\n\");\n    let currentEvent = null;\n    let currentProperty = \"\";\n    for(let i = 0; i < lines.length; i++){\n        let line = lines[i].trim();\n        // Handle line continuations\n        while(i + 1 < lines.length && lines[i + 1].startsWith(\" \")){\n            i++;\n            line += lines[i].trim();\n        }\n        if (line === \"BEGIN:VEVENT\") {\n            currentEvent = {};\n        } else if (line === \"END:VEVENT\" && currentEvent) {\n            events.push(currentEvent);\n            currentEvent = null;\n        } else if (currentEvent && line.includes(\":\")) {\n            const colonIndex = line.indexOf(\":\");\n            const property = line.substring(0, colonIndex);\n            const value = line.substring(colonIndex + 1);\n            switch(property.split(\";\")[0]){\n                case \"SUMMARY\":\n                    currentEvent.summary = value;\n                    break;\n                case \"DESCRIPTION\":\n                    currentEvent.description = value.replace(/\\\\n/g, \"\\n\").replace(/\\\\,/g, \",\");\n                    break;\n                case \"LOCATION\":\n                    currentEvent.location = value;\n                    break;\n                case \"DTSTART\":\n                    currentEvent.start = parseICSDate(value);\n                    break;\n                case \"DTEND\":\n                    currentEvent.end = parseICSDate(value);\n                    break;\n                case \"UID\":\n                    currentEvent.uid = value;\n                    break;\n            }\n        }\n    }\n    return events;\n}\nfunction parseICSDate(dateString) {\n    // Handle different date formats\n    if (dateString.includes(\"T\")) {\n        // DateTime format: 20231201T143000Z or 20231201T143000\n        const cleanDate = dateString.replace(/[TZ]/g, \"\");\n        const year = parseInt(cleanDate.substring(0, 4));\n        const month = parseInt(cleanDate.substring(4, 6)) - 1; // Month is 0-indexed\n        const day = parseInt(cleanDate.substring(6, 8));\n        const hour = parseInt(cleanDate.substring(8, 10)) || 0;\n        const minute = parseInt(cleanDate.substring(10, 12)) || 0;\n        const second = parseInt(cleanDate.substring(12, 14)) || 0;\n        return new Date(year, month, day, hour, minute, second);\n    } else {\n        // Date only format: 20231201\n        const year = parseInt(dateString.substring(0, 4));\n        const month = parseInt(dateString.substring(4, 6)) - 1;\n        const day = parseInt(dateString.substring(6, 8));\n        return new Date(year, month, day);\n    }\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const config = {\n            zoomPriority: parseInt(searchParams.get(\"zoom_priority\") || defaultConfig.zoomPriority.toString()),\n            zoomReminder: searchParams.get(\"zoom_reminder\") === \"true\",\n            zoomReminderMinutes: parseInt(searchParams.get(\"zoom_reminder_minutes\") || defaultConfig.zoomReminderMinutes.toString()),\n            otherPriority: parseInt(searchParams.get(\"other_priority\") || defaultConfig.otherPriority.toString()),\n            otherReminder: searchParams.get(\"other_reminder\") === \"true\",\n            otherReminderMinutes: parseInt(searchParams.get(\"other_reminder_minutes\") || defaultConfig.otherReminderMinutes.toString())\n        };\n        const icsData = await processCalendar(config);\n        return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"](icsData, {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"text/calendar; charset=utf-8\",\n                \"Content-Disposition\": \"attachment; filename=high_priority_events.ics\",\n                \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n                \"Pragma\": \"no-cache\",\n                \"Expires\": \"0\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error serving calendar:\", error);\n        return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"](`Error processing calendar: ${error}`, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWFHLEdBQUcsQ0FBQyxxQkFBcUJuRixjQUFjSSxhQUFhLENBQUM4QyxRQUFRO1lBQ2xHN0MsZUFBZTJFLGFBQWFHLEdBQUcsQ0FBQyxzQkFBc0I7WUFDdEQ3RSxzQkFBc0JrRSxTQUFTUSxhQUFhRyxHQUFHLENBQUMsNkJBQTZCbkYsY0FBY00sb0JBQW9CLENBQUM0QyxRQUFRO1FBQzFIO1FBRUEsTUFBTWpDLFVBQVUsTUFBTVYsZ0JBQWdCQztRQUV0QyxPQUFPLElBQUlYLGtGQUFZQSxDQUFDb0IsU0FBUztZQUMvQkQsUUFBUTtZQUNSSCxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsdUJBQXVCO2dCQUN2QixpQkFBaUI7Z0JBQ2pCLFVBQVU7Z0JBQ1YsV0FBVztZQUNiO1FBQ0Y7SUFDRixFQUFFLE9BQU9zQyxPQUFPO1FBQ2QxQyxRQUFRMEMsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBTyxJQUFJdEQsa0ZBQVlBLENBQUMsQ0FBQywyQkFBMkIsRUFBRXNELE1BQU0sQ0FBQyxFQUFFO1lBQzdEbkMsUUFBUTtRQUNWO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbGVuZGFyLXByaW9yaXR5LXNlcnZpY2UvLi9hcHAvYXBpL2NhbGVuZGFyLmljcy9yb3V0ZS50cz85YmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgaWNhbCBmcm9tICdpY2FsLWdlbmVyYXRvcic7XG5cbmNvbnN0IElDU19VUkwgPSBcImh0dHBzOi8vaWl0amJzYy5mdXR1cmVuc2UuY29tL2NhbGVuZGFyL2V4cG9ydF9leGVjdXRlLnBocD91c2VyaWQ9MjAyMCZhdXRodG9rZW49MmFhODA3Yzk5MjJiOTU5Nzg3OTQ5NWYxOTVmMDE1NTJjZjE2YTAxMSZwcmVzZXRfd2hhdD1hbGwmcHJlc2V0X3RpbWU9cmVjZW50dXBjb21pbmdcIjtcblxuaW50ZXJmYWNlIENhbGVuZGFyQ29uZmlnIHtcbiAgem9vbVByaW9yaXR5OiBudW1iZXI7XG4gIHpvb21SZW1pbmRlcjogYm9vbGVhbjtcbiAgem9vbVJlbWluZGVyTWludXRlczogbnVtYmVyO1xuICBvdGhlclByaW9yaXR5OiBudW1iZXI7XG4gIG90aGVyUmVtaW5kZXI6IGJvb2xlYW47XG4gIG90aGVyUmVtaW5kZXJNaW51dGVzOiBudW1iZXI7XG59XG5cbmNvbnN0IGRlZmF1bHRDb25maWc6IENhbGVuZGFyQ29uZmlnID0ge1xuICB6b29tUHJpb3JpdHk6IDEsXG4gIHpvb21SZW1pbmRlcjogdHJ1ZSxcbiAgem9vbVJlbWluZGVyTWludXRlczogMTUsXG4gIG90aGVyUHJpb3JpdHk6IDUsXG4gIG90aGVyUmVtaW5kZXI6IGZhbHNlLFxuICBvdGhlclJlbWluZGVyTWludXRlczogMTAsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQ2FsZW5kYXIoY29uZmlnOiBDYWxlbmRhckNvbmZpZykge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5OlIEZldGNoaW5nIGNhbGVuZGFyIGZyb20gVVJMLi4uJyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChJQ1NfVVJMLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdVc2VyLUFnZW50JzogJ0NhbGVuZGFyLVByaW9yaXR5LVNlcnZpY2UvMS4wJyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgaWNzRGF0YSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICBcbiAgICAvLyBQYXJzZSB0aGUgb3JpZ2luYWwgY2FsZW5kYXIgdXNpbmcgYSBzaW1wbGUgcGFyc2VyXG4gICAgY29uc3QgZXZlbnRzID0gcGFyc2VJQ1NEYXRhKGljc0RhdGEpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBuZXcgY2FsZW5kYXJcbiAgICBjb25zdCBjYWxlbmRhciA9IGljYWwoe1xuICAgICAgbmFtZTogJ0hpZ2ggUHJpb3JpdHkgQ2FsZW5kYXInLFxuICAgICAgZGVzY3JpcHRpb246ICdQcm9jZXNzZWQgY2FsZW5kYXIgd2l0aCBzbWFydCBwcmlvcml0aXphdGlvbicsXG4gICAgICB0aW1lem9uZTogJ0FzaWEvS29sa2F0YScsXG4gICAgICBwcm9kSWQ6IHtcbiAgICAgICAgY29tcGFueTogJ2Z1dHVyZW5zZScsXG4gICAgICAgIHByb2R1Y3Q6ICdjYWxlbmRhci1wcmlvcml0eS1zZXJ2aWNlJyxcbiAgICAgICAgbGFuZ3VhZ2U6ICdFTidcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBsZXQgem9vbUV2ZW50c0NvdW50ID0gMDtcbiAgICBsZXQgb3RoZXJFdmVudHNDb3VudCA9IDA7XG5cbiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGlzWm9vbUV2ZW50ID0gZXZlbnQuZGVzY3JpcHRpb24gJiYgZXZlbnQuZGVzY3JpcHRpb24uaW5jbHVkZXMoJ2h0dHBzOi8vZnV0dXJlbnNlLnpvb20udXMvJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNhbGVuZGFyRXZlbnQgPSBjYWxlbmRhci5jcmVhdGVFdmVudCh7XG4gICAgICAgIHN0YXJ0OiBldmVudC5zdGFydCxcbiAgICAgICAgZW5kOiBldmVudC5lbmQsXG4gICAgICAgIHN1bW1hcnk6IGV2ZW50LnN1bW1hcnksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC5kZXNjcmlwdGlvbixcbiAgICAgICAgbG9jYXRpb246IGV2ZW50LmxvY2F0aW9uLFxuICAgICAgICB1aWQ6IGV2ZW50LnVpZCB8fCBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNab29tRXZlbnQpIHtcbiAgICAgICAgY2FsZW5kYXJFdmVudC5wcmlvcml0eShjb25maWcuem9vbVByaW9yaXR5KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb25maWcuem9vbVJlbWluZGVyKSB7XG4gICAgICAgICAgY2FsZW5kYXJFdmVudC5jcmVhdGVBbGFybSh7XG4gICAgICAgICAgICB0eXBlOiAnZGlzcGxheScsXG4gICAgICAgICAgICB0cmlnZ2VyOiBjb25maWcuem9vbVJlbWluZGVyTWludXRlcyAqIDYwLCAvLyBzZWNvbmRzIGJlZm9yZVxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdSZW1pbmRlcjogWm9vbSBtZWV0aW5nIHN0YXJ0aW5nIHNvb24nLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB6b29tRXZlbnRzQ291bnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGVuZGFyRXZlbnQucHJpb3JpdHkoY29uZmlnLm90aGVyUHJpb3JpdHkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNvbmZpZy5vdGhlclJlbWluZGVyKSB7XG4gICAgICAgICAgY2FsZW5kYXJFdmVudC5jcmVhdGVBbGFybSh7XG4gICAgICAgICAgICB0eXBlOiAnZGlzcGxheScsXG4gICAgICAgICAgICB0cmlnZ2VyOiBjb25maWcub3RoZXJSZW1pbmRlck1pbnV0ZXMgKiA2MCwgLy8gc2Vjb25kcyBiZWZvcmVcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmVtaW5kZXI6IEV2ZW50IHN0YXJ0aW5nIHNvb24nLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBvdGhlckV2ZW50c0NvdW50Kys7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhg8J+TiiBQcm9jZXNzZWQgJHt6b29tRXZlbnRzQ291bnR9IFpvb20gZXZlbnRzIGFuZCAke290aGVyRXZlbnRzQ291bnR9IG90aGVyIGV2ZW50c2ApO1xuICAgIHJldHVybiBjYWxlbmRhci50b1N0cmluZygpO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgY2FsZW5kYXI6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlSUNTRGF0YShpY3NEYXRhOiBzdHJpbmcpIHtcbiAgY29uc3QgZXZlbnRzID0gW107XG4gIGNvbnN0IGxpbmVzID0gaWNzRGF0YS5zcGxpdCgnXFxuJyk7XG4gIGxldCBjdXJyZW50RXZlbnQ6IGFueSA9IG51bGw7XG4gIGxldCBjdXJyZW50UHJvcGVydHkgPSAnJztcbiAgXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbGluZSA9IGxpbmVzW2ldLnRyaW0oKTtcbiAgICBcbiAgICAvLyBIYW5kbGUgbGluZSBjb250aW51YXRpb25zXG4gICAgd2hpbGUgKGkgKyAxIDwgbGluZXMubGVuZ3RoICYmIGxpbmVzW2kgKyAxXS5zdGFydHNXaXRoKCcgJykpIHtcbiAgICAgIGkrKztcbiAgICAgIGxpbmUgKz0gbGluZXNbaV0udHJpbSgpO1xuICAgIH1cbiAgICBcbiAgICBpZiAobGluZSA9PT0gJ0JFR0lOOlZFVkVOVCcpIHtcbiAgICAgIGN1cnJlbnRFdmVudCA9IHt9O1xuICAgIH0gZWxzZSBpZiAobGluZSA9PT0gJ0VORDpWRVZFTlQnICYmIGN1cnJlbnRFdmVudCkge1xuICAgICAgZXZlbnRzLnB1c2goY3VycmVudEV2ZW50KTtcbiAgICAgIGN1cnJlbnRFdmVudCA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50RXZlbnQgJiYgbGluZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICBjb25zdCBjb2xvbkluZGV4ID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IGxpbmUuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpO1xuICAgICAgY29uc3QgdmFsdWUgPSBsaW5lLnN1YnN0cmluZyhjb2xvbkluZGV4ICsgMSk7XG4gICAgICBcbiAgICAgIHN3aXRjaCAocHJvcGVydHkuc3BsaXQoJzsnKVswXSkge1xuICAgICAgICBjYXNlICdTVU1NQVJZJzpcbiAgICAgICAgICBjdXJyZW50RXZlbnQuc3VtbWFyeSA9IHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdERVNDUklQVElPTic6XG4gICAgICAgICAgY3VycmVudEV2ZW50LmRlc2NyaXB0aW9uID0gdmFsdWUucmVwbGFjZSgvXFxcXG4vZywgJ1xcbicpLnJlcGxhY2UoL1xcXFwsL2csICcsJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xPQ0FUSU9OJzpcbiAgICAgICAgICBjdXJyZW50RXZlbnQubG9jYXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRFRTVEFSVCc6XG4gICAgICAgICAgY3VycmVudEV2ZW50LnN0YXJ0ID0gcGFyc2VJQ1NEYXRlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRFRFTkQnOlxuICAgICAgICAgIGN1cnJlbnRFdmVudC5lbmQgPSBwYXJzZUlDU0RhdGUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdVSUQnOlxuICAgICAgICAgIGN1cnJlbnRFdmVudC51aWQgPSB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBldmVudHM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSUNTRGF0ZShkYXRlU3RyaW5nOiBzdHJpbmcpOiBEYXRlIHtcbiAgLy8gSGFuZGxlIGRpZmZlcmVudCBkYXRlIGZvcm1hdHNcbiAgaWYgKGRhdGVTdHJpbmcuaW5jbHVkZXMoJ1QnKSkge1xuICAgIC8vIERhdGVUaW1lIGZvcm1hdDogMjAyMzEyMDFUMTQzMDAwWiBvciAyMDIzMTIwMVQxNDMwMDBcbiAgICBjb25zdCBjbGVhbkRhdGUgPSBkYXRlU3RyaW5nLnJlcGxhY2UoL1tUWl0vZywgJycpO1xuICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChjbGVhbkRhdGUuc3Vic3RyaW5nKDAsIDQpKTtcbiAgICBjb25zdCBtb250aCA9IHBhcnNlSW50KGNsZWFuRGF0ZS5zdWJzdHJpbmcoNCwgNikpIC0gMTsgLy8gTW9udGggaXMgMC1pbmRleGVkXG4gICAgY29uc3QgZGF5ID0gcGFyc2VJbnQoY2xlYW5EYXRlLnN1YnN0cmluZyg2LCA4KSk7XG4gICAgY29uc3QgaG91ciA9IHBhcnNlSW50KGNsZWFuRGF0ZS5zdWJzdHJpbmcoOCwgMTApKSB8fCAwO1xuICAgIGNvbnN0IG1pbnV0ZSA9IHBhcnNlSW50KGNsZWFuRGF0ZS5zdWJzdHJpbmcoMTAsIDEyKSkgfHwgMDtcbiAgICBjb25zdCBzZWNvbmQgPSBwYXJzZUludChjbGVhbkRhdGUuc3Vic3RyaW5nKDEyLCAxNCkpIHx8IDA7XG4gICAgXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBEYXRlIG9ubHkgZm9ybWF0OiAyMDIzMTIwMVxuICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChkYXRlU3RyaW5nLnN1YnN0cmluZygwLCA0KSk7XG4gICAgY29uc3QgbW9udGggPSBwYXJzZUludChkYXRlU3RyaW5nLnN1YnN0cmluZyg0LCA2KSkgLSAxO1xuICAgIGNvbnN0IGRheSA9IHBhcnNlSW50KGRhdGVTdHJpbmcuc3Vic3RyaW5nKDYsIDgpKTtcbiAgICBcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBcbiAgICBjb25zdCBjb25maWc6IENhbGVuZGFyQ29uZmlnID0ge1xuICAgICAgem9vbVByaW9yaXR5OiBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCd6b29tX3ByaW9yaXR5JykgfHwgZGVmYXVsdENvbmZpZy56b29tUHJpb3JpdHkudG9TdHJpbmcoKSksXG4gICAgICB6b29tUmVtaW5kZXI6IHNlYXJjaFBhcmFtcy5nZXQoJ3pvb21fcmVtaW5kZXInKSA9PT0gJ3RydWUnLFxuICAgICAgem9vbVJlbWluZGVyTWludXRlczogcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnem9vbV9yZW1pbmRlcl9taW51dGVzJykgfHwgZGVmYXVsdENvbmZpZy56b29tUmVtaW5kZXJNaW51dGVzLnRvU3RyaW5nKCkpLFxuICAgICAgb3RoZXJQcmlvcml0eTogcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnb3RoZXJfcHJpb3JpdHknKSB8fCBkZWZhdWx0Q29uZmlnLm90aGVyUHJpb3JpdHkudG9TdHJpbmcoKSksXG4gICAgICBvdGhlclJlbWluZGVyOiBzZWFyY2hQYXJhbXMuZ2V0KCdvdGhlcl9yZW1pbmRlcicpID09PSAndHJ1ZScsXG4gICAgICBvdGhlclJlbWluZGVyTWludXRlczogcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnb3RoZXJfcmVtaW5kZXJfbWludXRlcycpIHx8IGRlZmF1bHRDb25maWcub3RoZXJSZW1pbmRlck1pbnV0ZXMudG9TdHJpbmcoKSksXG4gICAgfTtcblxuICAgIGNvbnN0IGljc0RhdGEgPSBhd2FpdCBwcm9jZXNzQ2FsZW5kYXIoY29uZmlnKTtcblxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKGljc0RhdGEsIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvY2FsZW5kYXI7IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICAnQ29udGVudC1EaXNwb3NpdGlvbic6ICdhdHRhY2htZW50OyBmaWxlbmFtZT1oaWdoX3ByaW9yaXR5X2V2ZW50cy5pY3MnLFxuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScsXG4gICAgICAgICdQcmFnbWEnOiAnbm8tY2FjaGUnLFxuICAgICAgICAnRXhwaXJlcyc6ICcwJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VydmluZyBjYWxlbmRhcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoYEVycm9yIHByb2Nlc3NpbmcgY2FsZW5kYXI6ICR7ZXJyb3J9YCwge1xuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiaWNhbCIsIklDU19VUkwiLCJkZWZhdWx0Q29uZmlnIiwiem9vbVByaW9yaXR5Iiwiem9vbVJlbWluZGVyIiwiem9vbVJlbWluZGVyTWludXRlcyIsIm90aGVyUHJpb3JpdHkiLCJvdGhlclJlbWluZGVyIiwib3RoZXJSZW1pbmRlck1pbnV0ZXMiLCJwcm9jZXNzQ2FsZW5kYXIiLCJjb25maWciLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsIkVycm9yIiwic3RhdHVzIiwiaWNzRGF0YSIsInRleHQiLCJldmVudHMiLCJwYXJzZUlDU0RhdGEiLCJjYWxlbmRhciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInRpbWV6b25lIiwicHJvZElkIiwiY29tcGFueSIsInByb2R1Y3QiLCJsYW5ndWFnZSIsInpvb21FdmVudHNDb3VudCIsIm90aGVyRXZlbnRzQ291bnQiLCJmb3JFYWNoIiwiZXZlbnQiLCJpc1pvb21FdmVudCIsImluY2x1ZGVzIiwiY2FsZW5kYXJFdmVudCIsImNyZWF0ZUV2ZW50Iiwic3RhcnQiLCJlbmQiLCJzdW1tYXJ5IiwibG9jYXRpb24iLCJ1aWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInByaW9yaXR5IiwiY3JlYXRlQWxhcm0iLCJ0eXBlIiwidHJpZ2dlciIsInRvU3RyaW5nIiwiZXJyb3IiLCJsaW5lcyIsInNwbGl0IiwiY3VycmVudEV2ZW50IiwiY3VycmVudFByb3BlcnR5IiwiaSIsImxlbmd0aCIsImxpbmUiLCJ0cmltIiwic3RhcnRzV2l0aCIsInB1c2giLCJjb2xvbkluZGV4IiwiaW5kZXhPZiIsInByb3BlcnR5Iiwic3Vic3RyaW5nIiwidmFsdWUiLCJyZXBsYWNlIiwicGFyc2VJQ1NEYXRlIiwiZGF0ZVN0cmluZyIsImNsZWFuRGF0ZSIsInllYXIiLCJwYXJzZUludCIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJnZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/calendar.ics/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ical-generator","vendor-chunks/uuid-random"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcalendar.ics%2Froute&page=%2Fapi%2Fcalendar.ics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcalendar.ics%2Froute.ts&appDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmahadev%2FDocuments%2Fpython%2Fcalendar_subscription&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();